<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;600;700;800&display=swap" rel="stylesheet">
    <title>Document</title>
    <link rel="stylesheet" href="css/output.css">
    <style>
        /* * {
            border: solid 1px red;
        } */
    </style>
</head>
<body class="bg-orange-400 w-screen h-screen">
    <button class="bg-orange-100 rounded-md p-2 m-5 font-inter text-light shadow-md" onclick="openWindow()">ECL Model</button>
    
    <div class="w-[26%] h-[420px] rounded-2xl bg-slate-200 absolute left-0 right-0 top-0 bottom-0 m-auto hidden" id="wrapper" draggable="">
        <div class="cursor-move p-4 border-b border-gray-300 flex justify-between" id="header">
            New Window
            <div class="" id="actions" onmousedown="event.stopImmediatePropagation(); event.stopPropagation(); event.preventDefault();">
            </div>
        </div>
        <div class="" id="content" onmousedown="">
            <h1>Lorem ipsum, dolor sit amet consectetur adipisicing elit.</h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nesciunt iure officia qui recusandae totam corrupti labore praesentium libero aspernatur. Adipisci magnam cum consequuntur expedita quidem commodi est laborum eos minima saepe rem, dignissimos, tempora nulla facere! Quisquam, deleniti quam consequuntur voluptatum dolorem nisi obcaecati ipsa perspiciatis magnam voluptas porro cumque.</p>
        </div>
    </div>
    
    <script>
        let wrapper = document.querySelector("#wrapper");
        let header = wrapper.querySelector("#header");

        ismouseDown= false;

        let offsetX = 0;
        let offsetY = 0;

        function openWindow() {
            let state = wrapper.classList.contains("hidden");
            
            // console.log(state);
            if(state){

                wrapper.classList.remove("hidden");
            } else {
                wrapper.classList.add("hidden");
            }
        }

        header.addEventListener("mousedown", (e) => {
            ismouseDown = true;
            offsetX = wrapper.offsetLeft - e.clientX;
            offsetY = wrapper.offsetTop - e.clientY;
            console.log(offsetX, offsetY)
        })

        document.addEventListener("mousemove", (e) => {
            if(!ismouseDown) return;
            e.preventDefault();
            let left = e.clientX + offsetX;
            let top = e.clientY + offsetY;

            wrapper.classList.remove("left-0");
            wrapper.classList.remove("top-0");
            wrapper.classList.remove("right-0");
            wrapper.classList.remove("bottom-0");
            wrapper.style.left = left + "px";
            wrapper.style.top = top + "px";
        })

        document.addEventListener("mouseup", () => {
            ismouseDown = false;
        })

        
    </script>
</body>
</html>